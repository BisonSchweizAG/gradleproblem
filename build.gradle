buildscript {
  repositories {
    maven {
      url "https://repo.bison-group.com/artifactory/gradle-cache"
    }
  }
}

subprojects {
  apply {
    plugin 'java-library'
    plugin 'java-test-fixtures'
  }

  repositories {
    maven {
      url "https://repo.bison-group.com/artifactory/gradle-cache"
    }
  }

  dependencies {
    testCompileOnly "org.junit.jupiter:junit-jupiter-params:5.9.0"
    testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:5.9.0"
  }

  java {
    withSourcesJar()
  }

  test {
    useJUnitPlatform()
  }
}

project(':projectA'){
}

project(':projectB'){
  dependencies {
    implementation project(':projectA')
    
    // comment out and it works for eclipse, 
    // but not for gradle in command line anymore
    testImplementation testFixtures(project(':projectA'))
  }
}
